<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Ticket</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Your Movie Ticket</h1>

        <div id="ticket" class="ticket">
            <div class="ticket-header">
                <img src="logo.png" alt="Logo" class="logo">
                <h2>ACM Movie Ticket</h2>
            </div>
            
            <div class="ticket-details">
                <!-- Left Section: User details -->
                <div class="left-section">
                    <p id="ticketName">Name: </p>
                    <p id="ticketBranch">Branch: </p>
                    
                </div>

                <!-- Center Section: Movie details -->
                <div class="center-section">
                    <p id="movieName">Movie: Souce Code</p>
                    <p id="venue">Venue: APJ HALL</p>
                    <p id="time">Time: 4:30 PM</p>
                </div>

                <!-- Right Section: Image -->
                <div class="right-section">
                    <img src="cinema.jpg" alt="Cinema" class="cinema-img">
                </div>
            </div>
        </div>

        <button onclick="downloadTicket()">Download PDF</button>
    </div>

    <!-- Include jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Function to extract URL parameters
        function getQueryParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                name: params.get('name'),
                branch: params.get('branch'),
                phone: params.get('phone')
            };
        }

        // Function to populate the ticket with user details
        function displayTicket() {
            const { name, branch, phone } = getQueryParams();

            if (name && branch && phone) {
                document.getElementById('ticketName').innerText = `Name: ${name}`;
                document.getElementById('ticketBranch').innerText = `Branch: ${branch}`;
                document.getElementById('ticketPhone').innerText = `Phone: ${phone}`;
            } else {
                alert('Missing ticket information.');
            }
        }

        // Populate the ticket on page load
        window.onload = displayTicket;
    </script>
</body>
</html>
