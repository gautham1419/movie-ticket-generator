<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACM Movie Ticket</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h5 class="heading fade-in">ACM Movie Ticket</h5>
        <form id="ticketForm" onsubmit="validateForm(event); return false;">
            <label for="name">Name:</label>
            <input type="text" id="name" required><br>
            <br/>
            <label for="branch">Branch:</label>
            <input type="text" id="branch" required><br>
            <br/>
            <label for="phone">Phone No:</label>
            <input type="text" id="phone" required><br>
            <br/>
            <br/>
            <br/>
            <button type="submit" class="submit-button">Generate Ticket</button>
        </form>
    </div>

    <script>
        // Validate form before redirecting
        function validateForm(event) {
            const name = document.getElementById('name').value;
            const branch = document.getElementById('branch').value;
            const phone = document.getElementById('phone').value;

            // Check if phone number is exactly 10 digits
            const phoneRegex = /^\d{10}$/;
            if (!phoneRegex.test(phone)) {
                alert("Please enter a valid 10-digit phone number.");
                event.preventDefault();
                return false;
            }

            // If valid, proceed to redirect to ticket.html with URL parameters
            generateTicketPage(name, branch, phone);
        }

        // Function to redirect to ticket.html with user input passed as URL parameters
        function generateTicketPage(name, branch, phone) {
            // Redirect to ticket.html with the data as query parameters
            window.location.href = `ticket.html?name=${encodeURIComponent(name)}&branch=${encodeURIComponent(branch)}&phone=${encodeURIComponent(phone)}`;
        }
    </script>
</body>
</html>
